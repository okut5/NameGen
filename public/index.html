<!DOCTYPE html>
<html>
<head>
  <title>Generate Random Name</title>
  <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
<div id="maindiv">
  <div id="headline">
    <h1>Generate Random Name</h1>
  </div>

  <div id="button">
    <button id="generate">Generate Name</button>
  </div>

  <div id="loader" class="loader"></div>

  <div id="response">
    <input type="text" id="nameDisplay" readonly> <!-- Read-only input for the response -->
  </div>
</div>
<!-- Including Axios -->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<!-- Your Script -->
<script>
   
document.getElementById('generate').addEventListener('click', function() {
  axios.get('/api/generateName')
    .then(response => {
      const name = response.data.name;
      document.getElementById('nameDisplay').value = name;
    })
    .catch(error => console.error(error));
});



function showLoader() {
    document.getElementById('loader').style.display = 'block';
}

function hideLoader() {
    document.getElementById('loader').style.display = 'none';
}

async function generateName() {
    showLoader(); // Show loader when button is clicked
    try {
        const response = await fetch('/api/generateName'); // Make the request to your Node.js backend
        const data = await response.json();
        document.getElementById('nameDisplay').innerText = data.name; // Update the display with the name
    } catch (error) {
        console.error('Error:', error);
        // Optionally, update the display with an error message
        document.getElementById('nameDisplay').innerText = 'Error generating name.';
    } finally {
        hideLoader(); // Hide the loader after the response is received or an error occurs
    }
}


    </script>
<!--  -->

</body>
</html>
